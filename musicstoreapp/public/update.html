{% extends "layout.twig" %}

{% block title %} Agregar canción {% endblock %}

{% block main_container %}
  <h2>Modificar canción</h2>
  <form class="form-horizontal" method="post" action="/songs/update/{{ song._id.toString() }}" encType="multipart/form-data">
    <div class="form-group">
      <label class="control-label col-sm-2" for="title">Titulo:</label>
      <div class="col-sm-10">
        <input id="title" type="text" class="form-control" name="title"
            placeholder="Nombre de mi canción" required="true" 
            value="{{ song.title }}" />
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-2" for="kind">Genero:</label>
      <div class="col-sm-10">
		<select id="kind" class="form-control" name="kind" required="true" >
		  <option value="pop" id="pop">Pop</option>
		  <option value="folk" id="folk">Folk</option>
		  <option value="rock" id="rock" >Rock</option>
		  <option value="reagge" id="reagge">Reagge</option>
		  <option value="rap"  id="rap">Hip-hop Rap</option>
		  <option value="latino" id="latino">Latino</option>
		  <option value="blues" id="blues">Blues</option>
		  <option value="otros" id="otros">Otros</option>
		  <script> document.getElementById("{{ song.kind }}").selected = "true"; </script>
		</select>
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-2" for="price">Precio (€):</label>
      <div class="col-sm-10">          
        <input id="price" type="number" step="0.01" class="form-control" name="price"
        	placeholder="2.50" required value="{{ song.price }}"/>
      </div>
    </div>
    <div class="form-group">
      <label class="control-label col-sm-2" for="cover">Imagen portada:</label>
      <div class="col-sm-10">       
        <img src="/covers/{{ song._id.toString() }}.png" alt="logo" />
        <input id="cover" type="file" class="custom-file-input" name="cover"
        	accept=".png"  />
      </div>
    </div>
    <div class="form-group">
	  <label class="control-label col-sm-2" for="audio">Fichero audio:</label>
      <div class="col-sm-10">  
	    <audio controls>
		   <source  src="/audios/{{ song._id.toString() }}.mp3" type="audio/mpeg">
		</audio>        
        <input id="audio" type="file" class="custom-file-input" name="audio"
        	accept=".mp3"  />
      </div>
    </div>
    <div class="form-group">        
      <div class="col-sm-offset-2 col-sm-10">
        <button type="submit" class="btn btn-primary">Modificar</button>
      </div>
    </div>
  </form>
{% endblock %}